<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mubarak Afolabi — Project Details</title>
  <link href="css/style.css" rel="stylesheet" />
  <style>
    /* Ensure all navbar icons are 32x32 */
    #site-navbar ul li img {
      width: 32px;
      height: 32px;
    }

    /* Make every nav link area clickable and show pointer */
    #site-navbar ul li a {
      display: flex;
      flex-direction: column;
      align-items: center;
      color: #fff;
      /* keep your white text */
      text-decoration: none;
      /* no underlines */
      cursor: pointer;
      /* pointer on hover */
    }

    /* --- Mobile-specific Navbar Styles --- */
    @media (max-width: 768px) {
      #site-navbar ul li img {
        width: 24px;
        /* Smaller icon size for mobile */
        height: 24px;
      }

      #site-navbar ul li a {
        font-size: 0.75rem;
        /* Smaller font size for labels */
        /* Adjusted gap between icon and label, and overall nav item gap */
      }

      #site-navbar ul {
        padding: 0.5rem 0;
        /* Adjust overall padding if needed */
        gap: 0.5rem;
        /* Add gap between each nav item */
      }
    }


    /* Existing styles for projectDetail.html */
    .thin-line {
      height: 0.5px;
      background-color: rgba(255, 255, 255, 0.5);
    }

    .tech-stack-icons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
      gap: 0.75rem;
    }

    #project-detail-content {
      padding-top: 10px;
      padding-bottom: 2rem;
    }

    .carousel-container {
      position: relative;
      width: 100%;
      overflow: hidden;
      border: 1px solid white;
      border-radius: 0.5rem;
      aspect-ratio: 16/9; /* Ensures consistent aspect ratio for images/videos */
      margin-bottom: 1.5rem;
    }

    .carousel-slides {
      display: flex;
      transition: transform 0.5s ease-in-out;
      height: 100%;
    }

    .carousel-slide {
      min-width: 100%;
      flex-shrink: 0;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .carousel-slide img,
    .carousel-slide video {
      width: 100%;
      height: 100%;
      object-fit: contain; /* Use contain to fit the entire image/video within the frame */
    }

    .carousel-nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: rgba(0, 0, 0, 0.5);
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      cursor: pointer;
      z-index: 20;
      font-size: 1.5rem;
      border-radius: 0.25rem;
    }

    .carousel-nav-btn.prev {
      left: 10px;
    }

    .carousel-nav-btn.next {
      right: 10px;
    }

    .carousel-indicators {
      display: flex;
      justify-content: center;
      margin-top: 1rem;
      gap: 0.5rem;
    }

    .carousel-indicator {
      width: 10px;
      height: 10px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.4);
      cursor: pointer;
    }

    .carousel-indicator.active {
      background-color: white;
    }

    /* Styles for the project links section */
    .project-links {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-top: 2rem;
    }

    .project-links a {
      display: inline-block;
      background-color: #4CAF50; /* Example button color */
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      text-decoration: none;
      font-weight: bold;
      transition: background-color 0.3s ease;
    }

    .project-links a:hover {
      background-color: #45a049;
    }
  </style>
</head>

<body class="bg-primary-background-dark text-text-light min-h-screen flex flex-col">

  <nav id="site-navbar"
    class="navbar sticky top-0 w-full border border-black backdrop-blur bg-primary-background-dark bg-opacity-50 transform transition-transform duration-500 -translate-y-full z-50">
    <ul class="flex justify-around items-center py-4">
      <li>
        <a href="index.html">
          <img src="../assets/Vector.svg" alt="Home Icon">
          <span>HOME</span>
        </a>
      </li>
      <li>
        <a href="about.html">
          <img src="../assets/About Icon.svg" alt="About Icon">
          <span>ABOUT</span>
        </a>
      </li>
      <li>
        <a href="projects.html">
          <img src="../assets/Projects Icon.svg" alt="Projects Icon">
          <span>PROJECTS</span>
        </a>
      </li>
      <li>
        <a href="articles.html">
          <img src="../assets/Articles Icon.svg" alt="Articles Icon">
          <span>ARTICLES</span>
        </a>
      </li>
      <li>
        <a href="hireMe.html">
          <img src="../assets/HireMe Icon.svg" alt="Hire Me Icon">
          <span>HIRE ME</span>
        </a>
      </li>
      <li id="dark-toggle" class="flex flex-col items-center text-white cursor-pointer">
        <img src="../assets/ToggleOff Icon.svg" alt="Toggle Dark Mode" id="dark-toggle-icon">
        <span>theme</span>
      </li>
    </ul>
  </nav>

  <main id="project-detail-content" class="container mx-auto px-4">
    <h2 class="text-xl font-bold pt-6 pl-4 text-text-light" id="project-title"></h2>
    <div class="thin-line mt-3 mx-4"></div>

    <section id="project-details" class="bg-secondary-background-dark border-[1px] border-white rounded-2xl p-6 flex flex-col mt-4">
      <div class="carousel-container">
        <div class="carousel-slides" id="carousel-slides">
          </div>
        <button class="carousel-nav-btn prev" id="carousel-prev">&#10094;</button>
        <button class="carousel-nav-btn next" id="carousel-next">&#10095;</button>
      </div>
      <div class="carousel-indicators" id="carousel-indicators">
        </div>

      <div class="text-text-light text-sm overflow-y-auto pr-2 mt-4" id="project-description">
        </div>

      <div class="tech-stack-icons w-full mt-6" id="project-tech-stack">
        </div>

      <div class="w-full flex justify-center mt-4 project-links" id="project-links">
        </div>
    </section>
  </main>

  <footer class="text-center text-text-muted bg-primary-background-dark py-4 z-40 mt-auto">
    <span>© 2025 Mubarak Afolabi. All rights reserved.</span>
  </footer>

  <script>
    const nav = document.getElementById('site-navbar');
    let hideTimer;

    function showNavbar() {
      nav.classList.remove('-translate-y-full');
      clearTimeout(hideTimer);
      hideTimer = setTimeout(hideNavbar, 2500);
    }

    function hideNavbar() {
      nav.classList.add('-translate-y-full');
    }

    window.addEventListener('scroll', showNavbar);
    document.addEventListener('DOMContentLoaded', showNavbar);
    nav.addEventListener('mouseenter', showNavbar);
    nav.addEventListener('mouseleave', () => {
      clearTimeout(hideTimer);
      hideTimer = setTimeout(hideNavbar, 2500);
    });
    window.addEventListener('mousemove', (e) => {
      if (e.clientY < 50) showNavbar();
    });

    // Dark-mode toggle
    const toggleLi = document.getElementById('dark-toggle');
    const toggleIcon = document.getElementById('dark-toggle-icon');
    toggleLi.addEventListener('click', () => {
      const isDark = document.documentElement.classList.toggle('dark');
      toggleIcon.src = isDark ?
        '../assets/ToggleOn Icon.svg' :
        '../assets/ToggleOff Icon.svg';
    });
    if (document.documentElement.classList.contains('dark')) {
      toggleIcon.src = '../assets/ToggleOn Icon.svg';
    }

    const projectsData = {
      "haya": {
        title: "HAYA - E-commerce Website with Admin Dashboard",
        description: `
          <p class="mb-2">HAYA is a dynamic e-commerce platform designed to offer a seamless shopping experience for users and a robust management system for administrators. As the <b>lead designer and developer</b> for this project, I spearheaded the creation of both the user-facing website and its comprehensive admin dashboard.</p>
          <p>The platform features intuitive product Browse, a secure checkout process, user authentication, and order management. The admin dashboard provides powerful tools for inventory-control, user management, order tracking, and content updates, ensuring efficient operation of the online store.</p>
          <p>My role encompassed the entire development lifecycle, from initial <b>Figma</b> designs, translating them into responsive and engaging <b>React</b> components, to building a powerful and scalable backend with <b>Express.js</b> and storing data efficiently using <b>MongoDB</b>. The project emphasized clean, modular code and was managed using <b>Git</b> for version control, ensuring collaborative development and easy deployment.</p>
        `,
        images: [
          "assets/haya/mubarak1.png",
          "assets/haya/women landing page.png",
         
          "assets/haya/Screenshot (159).png",
          "assets/haya/Screenshot (162).png",
          "assets/haya/Screenshot (138) - Copy.png",
          "assets/haya/Screenshot (141).png",
          "assets/haya/Screenshot (151).png",
          "assets/haya/Screenshot (155).png",
          "assets/haya/Screenshot (158).png",
          "assets/haya/Haya - Google Chrome 2025-03-31 07-53-10.mp4"
        ],
        techStack: [
          "react", "express", "scss", "mongodb", "figma", "git"
        ],
        liveLink: "#", // Replace with actual link
        githubLink: "#" // Replace with actual link
      },
      "buckingham-royal-college": {
        title: "Buckingham Royal College - Website and School Management System",
        description: `
          <p class="mb-2">This project involved developing a sophisticated website and comprehensive school management system for Buckingham Royal College, an upscale educational institution in the UK. The system was designed to streamline administrative tasks, enhance communication, and provide a rich online presence for the college.</p>
          <p>Key features include student and faculty portals, curriculum management, attendance tracking, grade reporting, and a robust communication system. The public-facing website showcases the college's values, facilities, and academic programs, serving as a primary point of contact for prospective students and parents.</p>
          <p>Leveraging <b>Figma</b> for detailed UI/UX design, the frontend was crafted with <b>React</b> and styled using <b>SCSS</b> to ensure a modern, responsive, and visually appealing interface. The backend, built with <b>Express.js</b>, manages data efficiently with <b>MongoDB</b>, providing a scalable and secure foundation for the entire system. <b>Git</b> was utilized for version control, facilitating collaborative development and deployment.</p>
        `,
        images: [
          "assets/brc/iPhone 16 - 7.png",
          "assets/brc/iPhone 16 - 9.png",
          "assets/brc/iPhone 16 - 10.png",
          "assets/brc/iPhone 16 - 11.png",
          "assets/brc/iPhone 16 - 12.png",
          "assets/brc/iPhone 16 - 13.png",
          "assets/brc/iPhone 16 - 14.png",
          "assets/brc/iPhone 16 - 15.png"
        ],
        techStack: [
          "react", "express", "scss", "mongodb", "figma", "git"
        ],
        liveLink: "#", // Replace with actual link
        githubLink: "#" // Replace with actual link
      }
    };

    document.addEventListener('DOMContentLoaded', () => {
      const urlParams = new URLSearchParams(window.location.search);
      const projectId = urlParams.get('id');
      const project = projectsData[projectId];

      if (project) {
        document.getElementById('project-title').textContent = project.title;
        document.getElementById('project-description').innerHTML = project.description;

        const carouselSlides = document.getElementById('carousel-slides');
        const carouselIndicators = document.getElementById('carousel-indicators');
        carouselSlides.innerHTML = '';
        carouselIndicators.innerHTML = '';

        project.images.forEach((src, index) => {
          const slide = document.createElement('div');
          slide.classList.add('carousel-slide');
          const isVideo = src.endsWith('.mp4') || src.endsWith('.mov') || src.endsWith('.webm'); // Add more video formats as needed

          if (isVideo) {
            const video = document.createElement('video');
            video.src = `../${src}`;
            video.controls = true;
            video.loop = true; // Optional: loop video
            video.muted = true; // Optional: mute video by default
            video.playsInline = true; // Important for iOS autoplay
            slide.appendChild(video);
          } else {
            const img = document.createElement('img');
            img.src = `../${src}`;
            img.alt = `${project.title} Image ${index + 1}`;
            slide.appendChild(img);
          }
          carouselSlides.appendChild(slide);

          const indicator = document.createElement('div');
          indicator.classList.add('carousel-indicator');
          if (index === 0) indicator.classList.add('active');
          indicator.dataset.index = index;
          carouselIndicators.appendChild(indicator);
        });

        const techStackContainer = document.getElementById('project-tech-stack');
        techStackContainer.innerHTML = '';
        project.techStack.forEach(tech => {
          const img = document.createElement('img');
          img.src = `../assets/tech-icons/${tech}.png`;
          img.alt = `${tech} Icon`;
          img.classList.add('w-8', 'h-8');
          techStackContainer.appendChild(img);
        });

        const projectLinksContainer = document.getElementById('project-links');
        projectLinksContainer.innerHTML = '';
        if (project.liveLink && project.liveLink !== '#') {
          const liveLink = document.createElement('a');
          liveLink.href = project.liveLink;
          liveLink.textContent = "View Live";
          liveLink.target = "_blank";
          projectLinksContainer.appendChild(liveLink);
        }
        if (project.githubLink && project.githubLink !== '#') {
          const githubLink = document.createElement('a');
          githubLink.href = project.githubLink;
          githubLink.textContent = "GitHub Repo";
          githubLink.target = "_blank";
          projectLinksContainer.appendChild(githubLink);
        }

        // Carousel Logic
        let currentIndex = 0;
        const slides = document.querySelectorAll('.carousel-slide');
        const indicators = document.querySelectorAll('.carousel-indicator');
        const totalSlides = slides.length;

        function updateCarousel() {
          carouselSlides.style.transform = `translateX(-${currentIndex * 100}%)`;
          indicators.forEach((indicator, index) => {
            indicator.classList.toggle('active', index === currentIndex);
          });
        }

        document.getElementById('carousel-next').addEventListener('click', () => {
          currentIndex = (currentIndex + 1) % totalSlides;
          updateCarousel();
        });

        document.getElementById('carousel-prev').addEventListener('click', () => {
          currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
          updateCarousel();
        });

        indicators.forEach(indicator => {
          indicator.addEventListener('click', (e) => {
            currentIndex = parseInt(e.target.dataset.index);
            updateCarousel();
          });
        });

        // Autoplay functionality (optional)
        // let autoplayInterval = setInterval(() => {
        //   currentIndex = (currentIndex + 1) % totalSlides;
        //   updateCarousel();
        // }, 5000); // Change slide every 5 seconds

        // Stop autoplay on user interaction and restart after a delay
        // carouselSlides.addEventListener('mouseover', () => clearInterval(autoplayInterval));
        // carouselSlides.addEventListener('mouseleave', () => {
        //   autoplayInterval = setInterval(() => {
        //     currentIndex = (currentIndex + 1) % totalSlides;
        //     updateCarousel();
        //   }, 5000);
        // });

      } else {
        document.getElementById('project-title').textContent = "Project Not Found";
        document.getElementById('project-description').innerHTML = "<p>The requested project could not be found.</p>";
        document.getElementById('carousel-container').innerHTML = ''; // Hide carousel for not found projects
        document.getElementById('project-tech-stack').innerHTML = '';
        document.getElementById('project-links').innerHTML = '';
      }
    });
  </script>
</body>

</html>